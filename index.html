<!DOCTYPE html>

<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Token Grokzilla</title>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@400;700&display=swap" rel="stylesheet"/>
  <style>
    html, body { margin:0; padding:0; scroll-behavior:smooth; background:#0A0A0A; color:#FFF; font-family:'Inter',sans-serif; }

/* chuva */
.rain{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden;z-index:0;}
.rain .drop{position:absolute;bottom:100%;width:2px;height:15px;opacity:0.7;animation:fall linear infinite;}
@keyframes fall{to{transform:translateY(100vh);opacity:0;}}

/* hero */
.hero{background:url('https://raw.githubusercontent.com/grokszilla/grokzilla-site/main/c1df9791-6857-4bf2-bac9-291fabdc8a45.png') no-repeat center/cover fixed #000;
  position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;}
.hero::after{content:"";position:absolute;inset:0;background:rgba(0,0,0,0.7);z-index:1;}
.hero-content{position:relative;z-index:2;padding:100px 20px 60px;}
.hero h1{font-family:'Press Start 2P',cursive;font-size:2.2rem;color:#14F195;text-shadow:2px 2px #9945FF;margin-bottom:20px;}
.hero p{font-size:1.3rem;white-space:pre-line;color:#FFF;text-shadow:2px 2px #14F195,-2px -2px #9945FF;margin-bottom:40px;}

/* botões base */
.button{padding:16px 28px;border-radius:12px;font-weight:bold;margin:12px;display:inline-flex;align-items:center;
  font-size:1rem;transition:transform .2s,box-shadow .2s,opacity .2s;text-decoration:none;color:inherit;}
.button:hover{animation:bounce .3s;transform:translateY(-2px);opacity:.9;}
@keyframes bounce{0%,100%{transform:translateY(0);}50%{transform:translateY(-4px);}}
.btn-icon{width:20px;height:20px;margin-right:8px;vertical-align:middle;}

/* cores e sombras de cada botão */
.whitepaper{background:#2E2EFF;box-shadow:0 0 10px #2E2EFF;color:#fff;}
.pinksale  {background:#ff69b4;box-shadow:0 0 10px #ff69b4;color:#fff;}
.bscscan   {background:#f0b90b;box-shadow:0 0 10px #f0b90b;color:#000;}
.connect   {background:#14F195;box-shadow:0 0 10px #14F195;color:#000;}
.telegram  {background:#0088cc;box-shadow:0 0 10px #0088cc;color:#fff;}

/* lang switch */
.lang-switch{margin-top:30px;}
.lang-switch button{background:#fff;color:#000;border:none;padding:10px 18px;margin:0 5px;border-radius:6px;cursor:pointer;transition:background .2s;}
.lang-switch button:hover{background:#e0e0e0;}

/* memeteca */
section.memeteca{padding:60px 20px;background:rgba(0,0,0,0.6);}
.memeteca h2{font-family:'Press Start 2P';color:#14F195;font-size:1.8rem;text-shadow:1px 1px #9945FF;text-align:center;margin-bottom:40px;}
.meme-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px;max-width:1000px;margin:0 auto;}
.meme-card{background:#111;border:2px solid #14F195;border-radius:12px;overflow:hidden;text-align:center;transition:transform .3s,box-shadow .3s;}
.meme-card:hover{transform:scale(1.05);box-shadow:0 0 10px rgba(20,241,149,0.8),0 0 20px rgba(153,69,255,0.6);}
.meme-card img{width:100%;height:auto;border-radius:8px;}

/* culto */
section.culto{padding:60px 20px;background:radial-gradient(circle at center,rgba(17,17,17,0.6) 0%,rgba(0,0,0,0.6)100%);text-align:center;}
.culto h2{font-family:'Press Start 2P';color:#14F195;font-size:1.8rem;text-shadow:1px 1px #9945FF;margin-bottom:40px;}
.culto p{opacity:0;transform:translateY(30px);animation:fadeInUp 1s ease forwards;margin:12px 0;padding:12px 20px;
  border-left:4px solid #14F195;border-right:4px solid #14F195;background:rgba(20,241,149,0.05);border-radius:8px;font-size:1.2rem;color:#fff;}
@keyframes fadeInUp{to{opacity:1;transform:translateY(0);}}

/* roadmap */
section.roadmap{padding:60px 20px;background:rgba(0,0,0,0.6);}
.roadmap h2{font-family:'Press Start 2P';color:#14F195;font-size:1.8rem;text-shadow:1px 1px #9945FF;text-align:center;margin-bottom:40px;}
.roadmap-step{background:#222;border:2px dashed #9945FF;padding:20px;border-radius:16px;max-width:700px;margin:10px auto;color:#fff;font-size:1rem;}
.roadmap-step .phase{font-weight:bold;color:#14F195;font-size:1.1rem;margin-bottom:12px;}
.roadmap-step p{margin:6px 0;}

/* game */
section.game {
  text-align:center;
  margin: 40px 0;
}
#gameCanvas {
  border: 2px solid #14F195;
  background: #000;
}
#score {
  margin-top: 10px;
  font-size: 1.3rem;
}
#message {
  display: none;
  margin-top: 10px;
  font-size: 1.4rem;
  font-weight: bold;
  color: #14F195;
}

/* footer */
footer{background:#000;color:#ccc;text-align:center;padding:20px;font-size:.9rem;}
footer a{color:inherit;margin:0 10px;text-decoration:none;vertical-align:middle;}
footer img{width:20px;vertical-align:middle;margin-right:5px;}

  </style>
</head>
<body>
  <div class="rain"></div>

  <!-- HERO -->

<section class="hero">
    <div class="hero-content">
      <h1 id="title"></h1>
      <p id="description"></p>

  <a id="whitepaper" class="button whitepaper" href="#" target="_blank">
    <img src="https://cdn-icons-png.flaticon.com/512/337/337946.png" class="btn-icon" alt="">
    <span id="whitepaperLabel"></span>
  </a>
  <a id="pinksale" class="button pinksale" href="#" target="_blank">
    <img src="https://cdn-icons-png.flaticon.com/512/3462/3462148.png" class="btn-icon" alt="">
    <span id="pinksaleLabel"></span>
  </a>
  <a id="bscscan" class="button bscscan" href="#" target="_blank">
    <img src="https://cdn-icons-png.flaticon.com/512/5968/5968851.png" class="btn-icon" alt="">
    <span id="bscscanLabel"></span>
  </a>
  <button id="connectBtn" class="button connect">
    <img src="https://cdn-icons-png.flaticon.com/512/1051/1051377.png" class="btn-icon" alt="">
    <span id="connectLabel"></span>
  </button>
  <a id="telegramBtn" class="button telegram" href="https://t.me/+cAJFnl7fXG44ZDlh" target="_blank">
    <img src="https://cdn-icons-png.flaticon.com/512/2111/2111646.png" class="btn-icon" alt="">
    <span id="telegramLabel"></span>
  </a>

  <div class="lang-switch">
    <button data-lang="pt">Português</button>
    <button data-lang="en">English</button>
  </div>

  </section>

  <!-- MEMETECA -->

  <section class="memeteca">
    <h2 id="memetecaTitle">📚 Memeteca GrokZilla</h2>
    <div class="meme-grid">
      <div class="meme-card"><img src="https://raw.githubusercontent.com/grokszilla/grokzilla-site/85b1b5467b2b9fb913c7959bc8d81cb664741cde/18d29146-96d3-4077-b58c-f8f41321d6db.png" alt="Meme 1"></div>
      <div class="meme-card"><img src="https://raw.githubusercontent.com/grokszilla/grokzilla-site/85b1b5467b2b9fb913c7959bc8d81cb664741cde/28658f52-4474-4012-b190-c94b7a5070ee.png" alt="Meme 2"></div>
      <div class="meme-card"><img src="https://raw.githubusercontent.com/grokszilla/grokzilla-site/85b1b5467b2b9fb913c7959bc8d81cb664741cde/2ad695b0-3159-47b9-921c-101473e26ea4.png" alt="Meme 3"></div>
      <div class="meme-card"><img src="https://raw.githubusercontent.com/grokszilla/grokzilla-site/85b1b5467b2b9fb913c7959bc8d81cb664741cde/5760cdc5-a7ef-4a23-afe4-3362a2caa958.png" alt="Meme 4"></div>
      <div class="meme-card"><img src="https://raw.githubusercontent.com/grokszilla/grokzilla-site/85b1b5467b2b9fb913c7959bc8d81cb664741cde/85b8c366-9501-4c51-a77d-c34f45c7ae20.png" alt="Meme 5"></div>
      <div class="meme-card"><img src="https://raw.githubusercontent.com/grokszilla/grokzilla-site/6fa0e631e11005b9f219df5f4ae539ea4b41ec4d/112867d8-71ba-49b6-bf0c-0d1f3aa9903b.png" alt="Meme 6"></div>
      <div class="meme-card"><img src="https://raw.githubusercontent.com/grokszilla/grokzilla-site/56124a9cc01369644648d9930c878bc3b504e455/8b3655b2-a1f8-4370-bc2d-a79665fd854e.png" alt="Meme 7"></div>
      <div class="meme-card"><img src="https://raw.githubusercontent.com/grokszilla/grokzilla-site/56124a9cc01369644648d9930c878bc3b504e455/69c1ccb9-cf28-4b6a-832e-ede0532cf1bf.png" alt="Meme 8"></div>
      <div class="meme-card"><img src="https://raw.githubusercontent.com/grokszilla/grokzilla-site/56124a9cc01369644648d9930c878bc3b504e455/7c753d06-a6b3-43c2-abea-f2d8812af023.png" alt="Meme 9"></div>
    </div>
  </section>

  <!-- CULTO -->

  <section class="culto">
    <h2 id="cultTitle"></h2>
    <p id="cultQuote1"></p>
    <p id="cultQuote2"></p>
    <p id="cultQuote3"></p>
    <p id="cultQuote4"></p>
    <p id="cultQuote5"></p>
  </section>

  <!-- ROADMAP -->

  <section class="roadmap">
    <h2 id="roadmapTitle"></h2>
    <div class="roadmap-step">
      <div class="phase" id="phaseQ1"></div>
      <p><strong><span id="labelObj">Objetivo:</span></strong>    <span id="objQ1"></span></p>
      <p><strong><span id="labelAction">Ação:</span></strong>    <span id="actionQ1"></span></p>
      <p><strong><span id="labelMilestone">Marco:</span></strong> <span id="mileQ1"></span></p>
    </div>
    <div class="roadmap-step">
      <div class="phase" id="phaseQ2"></div>
      <p><strong><span id="labelObj2">Objetivo:</span></strong>    <span id="objQ2"></span></p>
      <p><strong><span id="labelAction2">Ação:</span></strong>    <span id="actionQ2"></span></p>
      <p><strong><span id="labelMilestone2">Marco:</span></strong> <span id="mileQ2"></span></p>
    </div>
    <div class="roadmap-step">
      <div class="phase" id="phaseQ3"></div>
      <p><strong><span id="labelObj3">Objetivo:</span></strong>    <span id="objQ3"></span></p>
      <p><strong><span id="labelAction3">Ação:</span></strong>    <span id="actionQ3"></span></p>
      <p><strong><span id="labelMilestone3">Marco:</span></strong> <span id="mileQ3"></span></p>
    </div>
    <div class="roadmap-step">
      <div class="phase" id="phaseQ4"></div>
      <p><strong><span id="labelObj4">Objetivo:</span></strong>    <span id="objQ4"></span></p>
      <p><strong><span id="labelAction4">Ação:</span></strong>    <span id="actionQ4"></span></p>
      <p><strong><span id="labelMilestone4">Marco:</span></strong> <span id="mileQ4"></span></p>
    </div>
  </section>

  <!-- JOGO -->

<section class="game" id="gameSection">
  <h2>🦖 Grokzilla: Rumo à Lua 🚀</h2>
  <button id="startBtn">Começar Jogo</button>
  <canvas id="gameCanvas" width="600" height="300" style="display:none; margin: 0 auto;"></canvas>
  <div id="score" style="display:none;">Pontos: 0</div>
  <div id="message" style="display:none;">Grokzilla rumo à lua! 🌕🚀</div>
</section>

  <!-- SCRIPTS DE TRADUÇÃO E RAIN -->
  <script>
    const translations = {
      pt: {
        hero: {
          title:       "Token Grokzilla",
          description: "Monstro dos memes. Pesadelo dos mercados. Mascote da sua próxima má decisão.\n$GROKZILLA",
          whitepaper:  "📄 Whitepaper",
          pinksale:    "🚀 Pré-venda no PinkSale",
          bscscan:     "🔎 Ver no BscScan",
          connect:     "🔗 Conectar Carteira",
          telegram:    "✉️ Telegram"
        },
        memeteca: { title:"📚 Memeteca GrokZilla" },
        cult: {
          title:"🛐 O Culto GrokZilla",
          quote1:"Grok é meu pastor, o gráfico não faltará.",
          quote2:"Em dias de FUD, confiarei no dino.",
          quote3:"Só quem segurou até o fundo será exaltado.",
          quote4:"Rug? Só pelúcia.",
          quote5:"Todo pump começa com fé e um bom meme."
        },
        roadmap: {
          title:"📈 Roadmap Caótico",
          q1phase: "Q1 – Prometemos Rug, Mas Nada Entregue",
      q1obj:   "Fazemos todas as promessas e a hype, mas nada de concreto ainda! É só o começo do caos.",
      q1action:"Lançamos o token, mas ainda estamos tentando não dar um rug pull. Prometemos que vai dar certo de verdade!",
      q1mile:  "Lançamento do token. Se der errado, culpa do mercado, não nossa. 😎",
      q2phase: "Q2 – Listagem em DEX Se o Dev Acordar",
      q2obj:   "O dev dormiu no primeiro trimestre, mas finalmente acorda e começa a negociar com exchanges.",
      q2action:"Negociações para listar o token em DEXes começam — vamos tentar sem crashar nada.",
      q2mile:  "Token listado em pelo menos uma exchange (mesmo que só na nossa cabeça).",
      q3phase: "Q3 – Merch Oficial: Camisetas, Adesivos & Quem Sabe Uma Caneca ou Pin",
      q3obj:   "Criar a primeira linha de merch: camisetas, adesivos, talvez um bonequinho ou caneca com logo. 🦖☕️",
      q3action:"Dev e marketing unem forças para desenhar e produzir os produtos (ou ao menos tentar).",
      q3mile:  "Merch distribuído pela comunidade (e talvez um pin ou caneca pra sua prateleira).",
      q4phase: "Q4 – Tentativa de Viralizar no X (Ou Não)",
      q4obj:   "Colocar o Grokzilla no radar de todo mundo. Vamos tentar viralizar sem forçar demais.",
      q4action:"Blitz de memes, posts e GIFs para fazer o token bombar.",
      q4mile:  "Viralizar no X — ou pelo menos dar nosso melhor."
    },
        labels:{ obj:"Objetivo:", action:"Ação:", mile:"Marco:" },
        footer:{ copy:"© 2025 Grokzilla. Todos os direitos." }
      },
      en: {
        hero: {
          title:       "Grokzilla Token",
          description: "Monster of memes. Nightmare of markets. Mascot of your next bad decision.\n$GROKZILLA",
          whitepaper:  "📄 Whitepaper",
          pinksale:    "🚀 Pre-sale on PinkSale",
          bscscan:     "🔎 View on BscScan",
          connect:     "🔗 Connect Wallet",
          telegram:    "✉️ Telegram"
        },
        memeteca:{ title:"📚 Official Memeteca" },
        cult:{
          title:"🛐 The GrokZilla Cult",
          quote1:"Grok is my shepherd, the chart shall not want.",
          quote2:"In FUD I trust.",
          quote3:"Only those who held to the bottom will be exalted.",
          quote4:"Rug? Only plushies.",
          quote5:"Every pump starts with faith and a good meme."
        },
        roadmap:{
          title:"📈 Chaotic Roadmap",
         q1phase: "Q1 – Promised Rug, Delivered Nothing",
  q1obj:   "We make all the promises and hype, but nothing concrete yet! It’s just the beginning of the chaos.",
  q1action:"We launched the token, but we’re still trying not to pull a rug. We swear it’ll work out for real!",
  q1mile:  "Token launch. If it goes wrong, blame the market, not us. 😎",
  q2phase: "Q2 – DEX Listing If Dev Wakes Up",
  q2obj:   "The dev slept through the first quarter but finally wakes up and starts negotiating with exchanges.",
  q2action:"Negotiations to list the token on DEXes begin — we’ll try to do it without crashing the system.",
  q2mile:  "Token listed on at least one exchange (even if only in our heads).",
  q3phase: "Q3 – Official Merch: Tees, Stickers & Maybe a Mug or Pin",
  q3obj:   "Create the first merch line—t-shirts, stickers, maybe even a little Grokzilla figurine or a logo mug. 🦖☕️",
  q3action:"Dev and marketing join forces to design and produce quality products (or at least try).",
  q3mile:  "T-shirts and stickers distributed by the community (and maybe a pin or mug for your shelf).",
  q4phase: "Q4 – Trend Attempt on X (Or Not)",
  q4obj:   "Get Grokzilla on everyone’s radar. We’ll go viral on social media, but no hard sell, alright?",
  q4action:"A blitz of memes, posts and GIFs to make the token pop.",
  q4mile:  "We go viral on X—or at least give it our best shot."
        
  },
        labels:{ obj:"Objective:", action:"Action:", mile:"Milestone:" },
        footer:{ copy:"© 2025 Grokzilla. All rights reserved." }
      }
    };

function setLang(lang){
  localStorage.setItem('lang',lang);
  document.documentElement.lang=lang;
  const t=translations[lang];
  // Hero
  document.getElementById('title').textContent=t.hero.title;
  document.getElementById('description').textContent=t.hero.description;
  document.getElementById('whitepaperLabel').textContent=t.hero.whitepaper;
  document.getElementById('pinksaleLabel').textContent=t.hero.pinksale;
  document.getElementById('bscscanLabel').textContent=t.hero.bscscan;
  document.getElementById('connectLabel').textContent=t.hero.connect;
  document.getElementById('telegramLabel').textContent=t.hero.telegram;
  // Memeteca
  document.getElementById('memetecaTitle').textContent=t.memeteca.title;
  // Culto
  document.getElementById('cultTitle').textContent=t.cult.title;
  ['cultQuote1','cultQuote2','cultQuote3','cultQuote4','cultQuote5']
    .forEach((id,i)=>document.getElementById(id).textContent=t.cult[`quote${i+1}`]);
  // Roadmap
  document.getElementById('roadmapTitle').textContent=t.roadmap.title;
  for(let i=1;i<=4;i++){
    const suf=i===1?'':i;
    document.getElementById(`phaseQ${i}`).textContent=t.roadmap[`q${i}phase`];
    document.getElementById(`labelObj${suf}`).textContent=t.labels.obj;
    document.getElementById(`labelAction${suf}`).textContent=t.labels.action;
    document.getElementById(`labelMilestone${suf}`).textContent=t.labels.mile;
    document.getElementById(`objQ${i}`).textContent=t.roadmap[`q${i}obj`];
    document.getElementById(`actionQ${i}`).textContent=t.roadmap[`q${i}action`];
    document.getElementById(`mileQ${i}`).textContent=t.roadmap[`q${i}mile`];
  }
  // Footer
  document.getElementById('footerCopy').textContent=t.footer.copy;
}

function initLangSwitcher(){
  document.querySelectorAll('.lang-switch button')
    .forEach(btn=>btn.addEventListener('click',()=>setLang(btn.dataset.lang)));
}

function initWalletButtons(){
  document.getElementById('connectBtn').onclick=()=>{
    if(!window.ethereum) return alert('Instale a MetaMask');
    window.ethereum.request({method:'eth_requestAccounts'})
      .then(a=>alert('Carteira: '+a[0])).catch(e=>alert(e.message));
  };
}

function initRain(){
  const c=document.querySelector('.rain');
  for(let i=0;i<80;i++){
    const d=document.createElement('div');
    d.className='drop';
    d.style.background=Math.random()>0.5?'rgba(20,241,149,0.8)':'rgba(153,69,255,0.8)';
    d.style.left=Math.random()*100+'%';
    d.style.animationDuration=(0.5+Math.random())+'s';
    d.style.animationDelay=-Math.random()*5+'s';
    c.appendChild(d);
  }
}

document.addEventListener('DOMContentLoaded',()=>{
  initLangSwitcher();
  initWalletButtons();
  initRain();
  setLang(localStorage.getItem('lang')||'pt');
});

  </script>

<div id="gameCover" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000e;z-index:9999;flex-direction:column;align-items:center;justify-content:center;">
  <img src="https://raw.githubusercontent.com/grokszilla/grokzilla-site/refs/heads/main/capa.png" style="max-width:80vw;max-height:60vh;border-radius:20px;box-shadow:0 0 32px #14F195cc;">
  <button id="coverPlayBtn" style="margin-top:30px;padding:20px 60px;font-size:1.6rem;background:#14F195;color:#111;border-radius:18px;border:none;cursor:pointer;box-shadow:0 0 14px #9945FFcc;font-family:'Press Start 2P',cursive;">
    ▶️ JOGAR
  </button>
</div>
  
<!-- SCRIPTS DO JOGO -->
  
<script>
(() => {
  // Pegando elementos DOM
  const startBtn  = document.getElementById('startBtn');
  const cover     = document.getElementById('gameCover');
  const coverBtn  = document.getElementById('coverPlayBtn');
  const canvas    = document.getElementById('gameCanvas');
  const ctx       = canvas.getContext('2d');
  const score     = document.getElementById('score');
  const message   = document.getElementById('message');

  // SONS
  const sndJump     = new Audio('https://cdn.pixabay.com/audio/2022/07/26/audio_124bfa4c7f.mp3');
  const sndCoin     = new Audio('https://cdn.pixabay.com/audio/2022/10/16/audio_12b8699c54.mp3');
  const sndGameOver = new Audio('https://cdn.pixabay.com/audio/2022/07/26/audio_124bfa4c7f.mp3');
  const sndWin      = new Audio('https://cdn.pixabay.com/audio/2022/10/16/audio_12b8699c54.mp3');

  // Inicialização: apenas o botão aparece, o resto escondido!
  canvas.style.display = "none";
  score.style.display = "none";
  message.style.display = "none";

  // Exibe a capa ao clicar "Começar Jogo"
  startBtn.onclick = () => {
    cover.style.display   = 'flex';  // Mostra a capa
    startBtn.style.display = 'none'; // Esconde o botão
    // O resto já está escondido
  };

  // Quando clica "JOGAR" na capa
  coverBtn.onclick = () => {
    cover.style.display = 'none';      // Some o overlay/capa
    canvas.style.display = 'block';    // Mostra o jogo
    score.style.display = 'block';     // Mostra a pontuação
    message.style.display = 'none';    // Mensagem só no fim
    startGame();                       // Começa o jogo de verdade
  };

  // ======== CONFIGURAÇÕES DO JOGO ========
  const GROUND_Y     = canvas.height - 20;
  const GRAVITY      = 0.8;
  const JUMP_POWER   = 15;
  const DINO_SPEED   = 3;
  const TOTAL_COINS  = 20;
  const COIN_SPACING = 300;
  const OBST_FREQ    = 180;
  const GAME_SPEED   = 1.2;
  const BG_SPEED     = 0.4;

  let coins       = [];
  let obstacles   = [];
  let rocket      = null;
  let frame       = 0;
  let coinCount   = 0;
  let gameOver    = false;
  let gameWin     = false;
  let bgX         = 0;
  let gameStarted = false;

  // SPRITES
  const imgDino       = new Image(); imgDino.src       = 'https://raw.githubusercontent.com/grokszilla/grokzilla-site/a1d148b38467c212f06382252950a348f98a9d36/dino1.png';
  const imgCoin       = new Image(); imgCoin.src       = 'https://raw.githubusercontent.com/grokszilla/grokzilla-site/a1d148b38467c212f06382252950a348f98a9d36/moeda_real_transparente.png';
  const imgBackground = new Image(); imgBackground.src = 'https://raw.githubusercontent.com/grokszilla/grokzilla-site/a1d148b38467c212f06382252950a348f98a9d36/pasaisgem%20.png';
  const imgRocket     = new Image(); imgRocket.src     = 'https://raw.githubusercontent.com/grokszilla/grokzilla-site/a1d148b38467c212f06382252950a348f98a9d36/dino_foguete_transparente_final.png';
  const obstacleImgs  = [
    (() => { const i=new Image(); i.src='https://raw.githubusercontent.com/grokszilla/grokzilla-site/a1d148b38467c212f06382252950a348f98a9d36/tapete.png'; return i; })(),
    (() => { const i=new Image(); i.src='https://raw.githubusercontent.com/grokszilla/grokzilla-site/a1d148b38467c212f06382252950a348f98a9d36/urso.png';   return i; })(),
    (() => { const i=new Image(); i.src='https://raw.githubusercontent.com/grokszilla/grokzilla-site/a1d148b38467c212f06382252950a348f98a9d36/baleia.png'; return i; })(),
    (() => { const i=new Image(); i.src='https://raw.githubusercontent.com/grokszilla/grokzilla-site/d660c790375cb4a33daf5156f1ff7b8b073af5a2/96710ea3-ff0d-4379-bb9c-ab93334e368d.png'; return i; })()
  ];

  // PRELOAD dos sprites
  const assets = [ imgDino, imgCoin, imgBackground, imgRocket, ...obstacleImgs ];
  let loaded = 0;
  assets.forEach(img => {
    img.onload = () => {
      if (++loaded === assets.length) {
        startBtn.disabled    = false;
        startBtn.textContent = 'Começar Jogo';
      }
    };
    img.onerror = () => console.error('Falha ao carregar', img.src);
  });

  // COLISÃO
  function collide(a,b) {
    const mX = 10, mY = 8;
    return (a.x + mX) < (b.x + b.w - mX)
        && (a.x + a.w - mX) > (b.x + mX)
        && (a.y + mY) < (b.y + b.h)
        && (a.y + a.h) > (b.y);
  }

  // DINO
  const dino = {
    x: 50, y: GROUND_Y - 50, w: 48, h: 48,
    vy: 0,
    onGround:   true,
    movingRight:false,
    movingLeft: false,
    reset() {
      this.x = 50;
      this.y = GROUND_Y - this.h;
      this.vy= 0;
      this.onGround = true;
      this.movingRight = this.movingLeft = false;
    },
    update() {
      if (this.movingRight && this.x + this.w < canvas.width) {
        this.x += DINO_SPEED;
        bgX = (bgX - BG_SPEED + canvas.width) % canvas.width;
      }
      if (this.movingLeft && this.x > 0) {
        this.x -= DINO_SPEED;
        bgX = (bgX + BG_SPEED + canvas.width) % canvas.width;
      }
      this.vy += GRAVITY;
      this.y  += this.vy;
      if (this.y > GROUND_Y - this.h) {
        this.y = GROUND_Y - this.h;
        this.vy= 0;
        this.onGround = true;
      }
    },
    draw() {
      ctx.drawImage(imgDino, this.x, this.y, this.w, this.h);
    },
    jump() {
      if (this.onGround && gameStarted && !gameOver && !gameWin) {
        this.vy = -JUMP_POWER;
        this.onGround = false;
        sndJump.currentTime = 0; sndJump.play();
      }
    }
  };

  // MOEDAS E FOGUETE
  function initCoinsAndRocket() {
    coins = [];
    for (let i = 0; i < TOTAL_COINS; i++) {
      coins.push({ x: canvas.width + COIN_SPACING*i, y: GROUND_Y - 30, w:24, h:24, collected:false });
    }
    rocket = { x: canvas.width + COIN_SPACING*TOTAL_COINS + 200, y:GROUND_Y-60, w:48, h:48, launched:false, show:false };
  }

  // RESET do jogo
  function resetGame() {
    frame     = 0;
    obstacles = [];
    coinCount = 0;
    gameOver  = false;
    gameWin   = false;
    bgX       = 0;
    dino.reset();
    initCoinsAndRocket();
    score.textContent    = 'Pontos: 0';
    message.style.display = 'none';
    // reexibe canvas/score/message se voltar do reset
    canvas.style.display  = 'block';
    score.style.display   = 'block';
    message.style.display = 'none'; // só aparece ao ganhar
  }

  // INICIA o loop do jogo (só chamado ao clicar "JOGAR" na capa)
  function startGame() {
    resetGame();
    gameStarted = true;
    requestAnimationFrame(loop);
  }

  // LOOP
  function loop() {
    frame++;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.drawImage(imgBackground, bgX - canvas.width, 0, canvas.width, canvas.height);
    ctx.drawImage(imgBackground, bgX, 0, canvas.width, canvas.height);
    ctx.fillStyle = 'rgba(0,0,0,0.4)';
    ctx.fillRect(0, GROUND_Y, canvas.width, 20);
    dino.update(); dino.draw();
    if (frame % OBST_FREQ === 0) {
      const img = obstacleImgs[Math.floor(Math.random()*obstacleImgs.length)];
      obstacles.push({ x:canvas.width, y:GROUND_Y-48, w:48, h:48, img });
    }
    obstacles = obstacles.filter(o => {
      o.x -= GAME_SPEED;
      ctx.drawImage(o.img, o.x, o.y, o.w, o.h);
      if (collide(dino, o)) {
        gameOver = true;
        sndGameOver.currentTime = 0; sndGameOver.play();
      }
      return o.x + o.w > 0;
    });
    coins.forEach(c => {
      if (!c.collected) {
        c.x -= GAME_SPEED;
        ctx.drawImage(imgCoin, c.x, c.y, c.w, c.h);
        if (collide(dino, c)) {
          c.collected = true;
          coinCount++;
          score.textContent = `Pontos: ${coinCount*100}`;
          sndCoin.currentTime = 0; sndCoin.play();
        }
      }
    });
    if (coinCount*100 >= 2000) rocket.show = true;
    if (rocket.show) {
      if (!rocket.launched) {
        rocket.x -= GAME_SPEED;
        ctx.drawImage(imgRocket, rocket.x, rocket.y, rocket.w, rocket.h);
        if (collide(dino, rocket)) {
          rocket.launched = true;
          gameWin = true;
          message.style.display = 'block';
          sndWin.currentTime = 0; sndWin.play();
        }
      } else {
        rocket.y -= 4;
        ctx.drawImage(imgRocket, rocket.x, rocket.y, rocket.w, rocket.h);
      }
    }
    if (!gameOver && !gameWin) {
      requestAnimationFrame(loop);
    } else {
      ctx.fillStyle = 'rgba(0,0,0,0.5)';
      ctx.fillRect(0,0,canvas.width,canvas.height);
      setTimeout(() => {
        startBtn.style.display = 'inline-block';
        startBtn.disabled = false;
        gameStarted = false;
        canvas.style.display = 'none';
        score.style.display  = 'none';
        message.style.display = 'none';
      }, 1000);
    }
  }

  // CONTROLES  
  document.addEventListener('keydown', e => {
    if (['ArrowLeft','ArrowRight','ArrowUp','Space'].includes(e.code)) e.preventDefault();
    if (!gameStarted) return;
    if (e.code === 'ArrowRight') dino.movingRight = true;
    if (e.code === 'ArrowLeft')  dino.movingLeft  = true;
    if (e.code === 'ArrowUp' || e.code === 'Space') dino.jump();
  });
  document.addEventListener('keyup', e => {
    if (['ArrowLeft','ArrowRight'].includes(e.code)) e.preventDefault();
    if (e.code === 'ArrowRight') dino.movingRight = false;
    if (e.code === 'ArrowLeft')  dino.movingLeft  = false;
  });

})();
</script>
</body>
</html>
